{% extends '@SS6Shop/Admin/Layout/layoutWithPanel.html.twig' %}

{% block title %}
	- {{ 'Doprava a platba zdarma'|trans }}
{% endblock %}

{% block h1 %}
	{{ 'Doprava a platba zdarma'|trans }}
{% endblock %}

{% block main_content %}
	<div class="row">

		<div class="col-xs-12 col-lg-10">

			{{ form_start(form) }}
				{{ form_errors(form) }}

				<table class="table table-striped table-vertical-center">
					<thead>
						<th>Doména</th>
						<th>Aktivace</th>
						<th>Minimální cena</th>
					</thead>
					<tbody>
						{% for domainId, priceLimitForm in form.priceLimits %}
							{% set domainName = domain.getDomainConfigById(domainId).getDomain() %}
							<tr>
								<td>{{ domainName }}</td>
								<td>
									{{ form_row(priceLimitForm.enabled, {
										label: 'povolit'|trans,
										raw: true,
										attr: {
											'class': 'js-free-transport-and-payment-price-limit-enabled checkbox-toggle',
											'data-checkbox-toggle-container-id': 'js-free-transport-and-payment-price-limit-' ~ domainId
										},
									}) }}
								</td>
								<td>
									{{ form_row(priceLimitForm.priceLimit, { label: 'Minimální cena zboží'|trans, attr: { class: 'form-line--size-2 form-line--in-table' }, symbolAfterInput: currencySymbolByDomainId(domainId) }) }}
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>

				{{ form_widget(form.save, { label: 'Uložit změny'|trans }) }}
			{{ form_end(form) }}
		</div>

	</div>
{% endblock %}