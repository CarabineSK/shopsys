{% extends '@SS6Shop/Front/Layout/layoutWithoutPanel.html.twig' %}
{% import '@SS6Shop/Front/Inline/Product/productFlagsMacro.html.twig' as productFlags %}

{% block title %}
	- {{ productDetail.product.name }}
{% endblock %}

{% block main_content %}
	<div class="row">
		<div class="col-xs-12 col-md-6">
			<div class="product-image pos-relative">
				{{ productFlags.list(productDetail.product) }}
				<span>
					{% if imageExists(productDetail.product) %}
						<a href="{{ imageUrl(productDetail.product, 'original') }}" class="js-gallery-main">
							{{ image(productDetail.product) }}
						</a>
					{% else %}
						<img src="{{ asset('assets/frontend/images/bez.jpg') }}" alt="{{ productDetail.product.name }}" width="336px" height="200px">
					{% endif %}
				</span>
			</div>
			{% set galleryImages = getImages(productDetail.product) %}
			{% if galleryImages|length > 1 %}
				<div class="product-gallery js-gallery">
					{% for galleryImage in galleryImages %}
						<a href="{{ imageUrl(galleryImage, 'original') }}" class="product-gallery__image">
							{{ image(galleryImage, {size: 'galleryThubnail'}) }}
						</a>
					{% endfor %}
				</div>
			{% endif %}
		</div>

		<div class="col-xs-12 col-md-6">
			<h1>{{ productDetail.product.name }}</h1>

			{% if productDetail.product.catnum %}
				<dl class="list-params">
					<dt class="list-params__title">
						{{ 'Katalogové číslo'|trans }}:
					</dt>
					<dd class="list-params__definition">
						{{ productDetail.product.catnum }}
					</dd>
				</dl>
			{% endif %}

			{% if productDetail.product.calculatedAvailability %}
				<dl class="list-params">
					<dt class="list-params__title">
						{{ 'Dostupnost'|trans }}:
					</dt>
					<dd class="list-params__definition">
						{{ productDetail.product.calculatedAvailability.name }}
					</dd>
				</dl>
			{% endif %}

			{% if productDetail.product.partno %}
				<dl class="list-params">
					<dt class="list-params__title">
						{{ 'Výrobní číslo'|trans }}:
					</dt>
					<dd class="list-params__definition">
						{{ productDetail.product.partno }}
					</dd>
				</dl>
			{% endif %}

			{% if productDetail.product.ean %}
				<dl class="list-params">
					<dt class="list-params__title">
						{{ 'EAN'|trans }}:
					</dt>
					<dd class="list-params__definition">
						{{ productDetail.product.ean }}
					</dd>
				</dl>
			{% endif %}

			<div class="wrap-box mb-1 mt-1">
				<dl class="list-params-side">
					<dt class="list-params-side__title">
						<strong>
							{{ 'Cena s DPH'|trans }}:
						</strong>
					</dt>
					<dd class="list-params-side__definition">
						<strong class="price-main price-big">
							{{ productDetail.sellingPrice.priceWithVat|price }}
						</strong>
					</dd>
				</dl>
				<dl class="list-params-side mb-1">
					<dt class="list-params-side__title">
						<strong>
							{{ 'Cena bez DPH'|trans }}:
						</strong>
					</dt>
					<dd class="list-params-side__definition">
						<strong>
							{{ productDetail.sellingPrice.priceWithoutVat|price }}
						</strong>
					</dd>
				</dl>
				{{ render(controller('SS6ShopBundle:Front/Cart:addProductForm', {product: productDetail.product})) }}
			</div>

		</div>
	</div>


	{% if productDetail.product.description or productDetail.parameters %}
		<div class="wrap-border mt-2">
			<div class="row">
				<div class="col-xs-12 col-md-8">
					{% if productDetail.product.description %}
						<h2>{{ 'Informace o produktu'|trans }}</h2>
						{{ productDetail.product.description|raw }}
					{% endif %}
				</div>


				<div class="col-xs-12 col-md-4">
					{% if productDetail.parameters %}
						<div class="wrap-box">
							<h3>{{ 'Technické parametry'|trans }}:</h3>
							{% for productParameterValue in productDetail.parameters %}
								<dl class="list-params">
									<dt class="list-params__title">{{ productParameterValue.parameter.name }}</dt>
									<dd class="list-params__definition">{{ productParameterValue.value.text }}</dd>
								</dl>
							{% endfor %}
						</div>
					{% endif %}
				</div>
			</div>
		</div>
	{% endif %}
{% endblock %}