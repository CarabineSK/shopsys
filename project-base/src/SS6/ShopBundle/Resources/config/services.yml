imports:
  - { resource: ../../Form/services.yml }
  - { resource: ../../Twig/services.yml }

parameters:
  fp_js_form_validator.factory.class: SS6\ShopBundle\Component\Validator\JsFormValidatorFactory
  fragment.handler.class: SS6\ShopBundle\Component\SubRequest\RedirectFragmentHandler
  prezent_doctrine_translatable.listener.class: SS6\ShopBundle\Model\Localization\TranslatableListener
  sensio_framework_extra.routing.loader.annot_class.class: SS6\ShopBundle\Component\AnnotatedRouteControllerLoader
  ss6.admin_navigation.config_filepath: %kernel.root_dir%/../src/SS6/ShopBundle/Resources/config/admin_menu.yml
  ss6.data_fixtures.resources_dir: %kernel.root_dir%/../src/SS6/ShopBundle/DataFixtures/resources
  ss6.data_fixtures.resource_customers_filepath: %ss6.data_fixtures.resources_dir%/demo-data-customers.csv
  ss6.data_fixtures.resource_products_filepath: %ss6.data_fixtures.resources_dir%/demo-data-products.csv
  ss6.demo_images_archive_url: http://images.mephisto.netdevelo/demoImages.v4.zip
  ss6.demo_images_dql_url: http://images.mephisto.netdevelo/demoImagesSql.v4.sql
  ss6.domain_config_filepath: %kernel.root_dir%/config/domains.yml
  ss6.file_dir: %ss6.web_dir%/assets/content/files
  ss6.file_url_prefix: /assets/content/files/
  ss6.image_dir: %ss6.web_dir%/assets/content/images
  ss6.image_url_prefix: /assets/content/images/
  ss6.image_config_filepath: %kernel.root_dir%/../src/SS6/ShopBundle/Resources/config/images.yml
  ss6.javascript_sources_dir: %ss6.resources_dir%/scripts
  ss6.javascript_url_prefix: /assets/scripts/
  ss6.resources_dir: %kernel.root_dir%/../src/SS6/ShopBundle/Resources
  ss6.root_dir: %kernel.root_dir%/..
  ss6.web_dir: %kernel.root_dir%/../web
  translator.class: SS6\ShopBundle\Component\Translation\Translator
  translation.loader.po.class: SS6\ShopBundle\Component\Translation\PoFileLoader
  twig.controller.exception.class: SS6\ShopBundle\Component\Error\ExceptionController
  validator.builder.factory.class: SS6\ShopBundle\Component\Validator\ValidatorBuilderFactory

services:

  controller_resolver:
    alias: ss6.shop.component.controller.controller_resolver

  doctrine.orm.default_entity_manager:
    class: %doctrine.orm.entity_manager.class%
    factory_class: %doctrine.orm.entity_manager.class%
    factory_method: create
    arguments:
      - @doctrine.dbal.default_connection
      - @doctrine.orm.default_configuration

  doctrine.orm.entity_manager.abstract:
    synthetic: true

  # disable original DefaultPhpFileExtractor
  jms_translation.extractor.file.default_php_extractor:
    alias: ss6.shop.component.translation.php_file_extractor

  security.user.provider.concrete.user_identities:
    class: SS6\ShopBundle\Model\Customer\SecurityUserRepository

  ss6.shop.admin_navigation.breadcrumb:
    class: SS6\ShopBundle\Model\AdminNavigation\Breadcrumb
    factory_service: ss6.shop.admin_navigation.breadcrumb_factory
    factory_method: get

  ss6.shop.admin_navigation.breadcrumb_factory:
    class: SS6\ShopBundle\Model\AdminNavigation\BreadcrumbFactory

  ss6.shop.admin_navigation.menu:
    class: SS6\ShopBundle\Model\AdminNavigation\Menu
    factory_service: ss6.shop.admin_navigation.menu_loader
    factory_method: loadFromYaml
    arguments:
      - %ss6.admin_navigation.config_filepath%

  ss6.shop.admin_navigation.menu_loader:
    class: SS6\ShopBundle\Model\AdminNavigation\MenuLoader

  ss6.shop.administrator.administrator_facade:
    class: SS6\ShopBundle\Model\Administrator\AdministratorFacade

  ss6.shop.administrator.administrator_grid_facade:
    class: SS6\ShopBundle\Model\Administrator\AdministratorGridFacade

  ss6.shop.administrator.administrator_grid_service:
    class: SS6\ShopBundle\Model\Administrator\AdministratorGridService

  ss6.shop.administrator.administrator_repository:
    class: SS6\ShopBundle\Model\Administrator\AdministratorRepository

  ss6.shop.administrator.administrator_service:
    class: SS6\ShopBundle\Model\Administrator\AdministratorService

  ss6.shop.advanced_search.advanced_search_config:
    class: SS6\ShopBundle\Model\AdvancedSearch\AdvancedSearchConfig

  ss6.shop.advanced_search.advanced_search_facade:
    class: SS6\ShopBundle\Model\AdvancedSearch\AdvancedSearchFacade

  ss6.shop.advanced_search.advanced_search_form_factory:
    class: SS6\ShopBundle\Model\AdvancedSearch\AdvancedSearchFormFactory

  ss6.shop.advanced_search.advanced_search_service:
    class: SS6\ShopBundle\Model\AdvancedSearch\AdvancedSearchService

  ss6.shop.advanced_search.filter.product_catnum_fitler:
    class: SS6\ShopBundle\Model\AdvancedSearch\Filter\ProductCatnumFilter

  ss6.shop.advanced_search.filter.product_name_fitler:
    class: SS6\ShopBundle\Model\AdvancedSearch\Filter\ProductNameFilter

  ss6.shop.advanced_search.filter.product_partno_fitler:
    class: SS6\ShopBundle\Model\AdvancedSearch\Filter\ProductPartnoFilter

  ss6.shop.cart:
    class: SS6\ShopBundle\Model\Cart\Cart
    factory_service: ss6.shop.cart.cart_factory
    factory_method: get
    arguments:
      - @ss6.shop.customer.customer_identifier

  ss6.shop.cart.cart_facade:
    class: SS6\ShopBundle\Model\Cart\CartFacade

  ss6.shop.cart.cart_factory:
    class: SS6\ShopBundle\Model\Cart\CartFactory

  ss6.shop.cart.cart_migration_facade:
    class: SS6\ShopBundle\Model\Cart\CartMigrationFacade
    tags:
      - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }

  ss6.shop.cart.cart_service:
    class: SS6\ShopBundle\Model\Cart\CartService

  ss6.shop.cart.cart_summary_calculation:
    class: SS6\ShopBundle\Model\Cart\CartSummaryCalculation

  ss6.shop.cart.cart_watcher_facade:
    class: SS6\ShopBundle\Model\Cart\Watcher\CartWatcherFacade
    arguments:
      - @ss6.shop.flash_message.sender.front

  ss6.shop.cart.cart_watcher_service:
    class: SS6\ShopBundle\Model\Cart\Watcher\CartWatcherService

  ss6.shop.cart.item.cart_item_price_calculation:
    class: SS6\ShopBundle\Model\Cart\Item\CartItemPriceCalculation

  ss6.shop.cart.item.cart_item_repository:
    class: SS6\ShopBundle\Model\Cart\Item\CartItemRepository

  ss6.shop.component.doctrine.query_builder_service:
    class: SS6\ShopBundle\Component\Doctrine\QueryBuilderService

  ss6.shop.component.error.exception_listener:
    class: SS6\ShopBundle\Component\Error\ExceptionListener
    tags:
      - { name: kernel.event_listener, event: kernel.exception, method: onKernelException }

  ss6.shop.component.controller.controller_resolver:
    class: SS6\ShopBundle\Component\Controller\ControllerResolver

  ss6.shop.component.javascript.compiler.constant.js_constant_compiler_pass:
    class: SS6\ShopBundle\Component\Javascript\Compiler\Constant\JsConstantCompilerPass

  ss6.shop.component.javascript.compiler.js_compiler:
    class: SS6\ShopBundle\Component\Javascript\Compiler\JsCompiler
    arguments:
      -
        - @ss6.shop.component.javascript.compiler.translator.js_translator_compiler_pass
        - @ss6.shop.component.javascript.compiler.constant.js_constant_compiler_pass

  ss6.shop.component.javascript.compiler.translator.js_translator_compiler_pass:
    class: SS6\ShopBundle\Component\Javascript\Compiler\Translator\JsTranslatorCompilerPass

  ss6.shop.component.javascript.parser.constant.js_constant_call_parser:
    class: SS6\ShopBundle\Component\Javascript\Parser\Constant\JsConstantCallParser

  ss6.shop.component.javascript.parser.js_string_parser:
    class: SS6\ShopBundle\Component\Javascript\Parser\JsStringParser

  ss6.shop.component.javascript.parser.js_function_call_parser:
    class: SS6\ShopBundle\Component\Javascript\Parser\JsFunctionCallParser

  ss6.shop.component.javascript.parser.translator.js_translator_call_parser:
    class: SS6\ShopBundle\Component\Javascript\Parser\Translator\JsTranslatorCallParser
    factory_service: ss6.shop.component.javascript.parser.translator.js_translator_call_parser_factory
    factory_method: create

  ss6.shop.component.javascript.parser.translator.js_translator_call_parser_factory:
    class: SS6\ShopBundle\Component\Javascript\Parser\Translator\JsTranslatorCallParserFactory

  ss6.shop.component.string.hash_generator:
    class: SS6\ShopBundle\Component\String\HashGenerator

  ss6.shop.component.translation.php_file_extractor:
    class: SS6\ShopBundle\Component\Translation\PhpFileExtractor
    factory_service: ss6.shop.component.translation.php_file_extractor_factory
    factory_method: create
    tags:
      - { name: jms_translation.file_visitor }

  ss6.shop.component.translation.php_file_extractor_factory:
    class: SS6\ShopBundle\Component\Translation\PhpFileExtractorFactory

  ss6.shop.component.translation.js_file_extractor:
    class: SS6\ShopBundle\Component\Translation\JsFileExtractor
    tags:
      - { name: jms_translation.file_visitor }

  ss6.shop.component.translation.po_dumper:
    class: SS6\ShopBundle\Component\Translation\PoDumper
    tags:
      - { name: jms_translation.dumper, format: po }

  ss6.shop.component.validator.auto_validator_annotation_loader:
    class: SS6\ShopBundle\Component\Validator\AutoValidatorAnnotationLoader
    arguments: [@annotation_reader]

  ss6.shop.component.validator.constraints.not_selected_domain_to_show:
    class: SS6\ShopBundle\Component\Constraints\NotSelectedDomainToShowValidator
    tags:
      - { name: validator.constraint_validator, alias: SS6\ShopBundle\Component\Constraints\NotSelectedDomainToShowValidator }

  ss6.shop.component.transformers.inverse_array_values_transformer:
    class: SS6\ShopBundle\Component\Transformers\InverseArrayValuesTransformer

  ss6.shop.component.transformers.product_id_to_product_transformer:
    class: SS6\ShopBundle\Component\Transformers\ProductIdToProductTransformer

  ss6.shop.component.transformers.product_parameter_value_to_product_parameter_values_localized_transformer:
    class: SS6\ShopBundle\Component\Transformers\ProductParameterValueToProductParameterValuesLocalizedTransformer

  ss6.shop.csv.csv_reader:
    class: SS6\ShopBundle\Component\Csv\CsvReader

  ss6.shop.customer.current_customer:
    class: SS6\ShopBundle\Model\Customer\CurrentCustomer

  ss6.shop.customer.customer_identifier:
    class: SS6\ShopBundle\Model\Customer\CustomerIdentifier
    factory_service: ss6.shop.customer.customer_identifier_factory
    factory_method: get

  ss6.shop.customer.customer_edit_facade:
    class: SS6\ShopBundle\Model\Customer\CustomerEditFacade

  ss6.shop.customer.customer_edit_service:
    class: SS6\ShopBundle\Model\Customer\CustomerEditService

  ss6.shop.customer.customer_identifier_factory:
    class: SS6\ShopBundle\Model\Customer\CustomerIdentifierFactory

  ss6.shop.customer.mail.customer_mail_facade:
    class: SS6\ShopBundle\Model\Customer\Mail\CustomerMailFacade

  ss6.shop.customer.mail.customer_mail_service:
    class: SS6\ShopBundle\Model\Customer\Mail\CustomerMailService

  ss6.shop.customer.mail.reset_password_mail:
    class: SS6\ShopBundle\Model\Customer\Mail\ResetPasswordMail

  ss6.shop.customer.mail.reset_password_mail_facade:
    class: SS6\ShopBundle\Model\Customer\Mail\ResetPasswordMailFacade

  ss6.shop.customer.registration_facade:
    class: SS6\ShopBundle\Model\Customer\RegistrationFacade

  ss6.shop.customer.registration_service:
    class: SS6\ShopBundle\Model\Customer\RegistrationService

  ss6.shop.customer.user_data_factory:
    class: SS6\ShopBundle\Model\Customer\UserDataFactory

  ss6.shop.customer.user_repository:
    class: SS6\ShopBundle\Model\Customer\UserRepository

  ss6.shop.confirm_delete.confirm_delete_response_factory:
    class: SS6\ShopBundle\Model\ConfirmDelete\ConfirmDeleteResponseFactory

  ss6.shop.data_fixture.persistent_reference_repository:
    class: SS6\ShopBundle\Component\DataFixture\PersistentReferenceRepository

  ss6.shop.data_fixture.persistent_reference_service:
    class: SS6\ShopBundle\Component\DataFixture\PersistentReferenceService

  ss6.shop.data_fixtures.product_data_fixture_loader:
    class: SS6\ShopBundle\DataFixtures\Demo\ProductDataFixtureLoader
    arguments:
      - %ss6.data_fixtures.resource_products_filepath%

  ss6.shop.data_fixtures.user_data_fixture_loader:
    class: SS6\ShopBundle\DataFixtures\Demo\UserDataFixtureLoader
    arguments:
      - %ss6.data_fixtures.resource_customers_filepath%

  ss6.shop.category.category_facade:
    class: SS6\ShopBundle\Model\Category\CategoryFacade

  ss6.shop.category.category_repository:
    class: SS6\ShopBundle\Model\Category\CategoryRepository

  ss6.shop.category.category_visibility_repository:
    class: SS6\ShopBundle\Model\Category\CategoryVisibilityRepository
    tags:
      # must be ran before ProductVisibilityFacade
      - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse, priority: 20 }

  ss6.shop.category.category_service:
    class: SS6\ShopBundle\Model\Category\CategoryService

  ss6.shop.domain:
    class: SS6\ShopBundle\Model\Domain\Domain
    factory_service: ss6.shop.domain.domain_factory
    factory_method: create
    arguments:
      - %ss6.domain_config_filepath%

  ss6.shop.domain.config.domains_config_loader:
    class: SS6\ShopBundle\Model\Domain\Config\DomainsConfigLoader

  ss6.shop.domain.domain_factory:
    class: SS6\ShopBundle\Model\Domain\DomainFactory

  ss6.shop.domain.domain_listener:
    class: SS6\ShopBundle\Model\Domain\DomainListener
    tags:
      - { name: kernel.event_subscriber }

  ss6.shop.domain.selected_domain:
    class: SS6\ShopBundle\Model\Domain\SelectedDomain

  ss6.shop.file_upload:
    class: SS6\ShopBundle\Model\FileUpload\FileUpload
    arguments: [%kernel.cache_dir%, %ss6.file_dir%, %ss6.image_dir%]

  ss6.shop.file_upload.doctrine_listener:
    class: SS6\ShopBundle\Model\FileUpload\DoctrineListener
    tags:
      - { name: doctrine.event_listener, event: postPersist }
      - { name: doctrine.event_listener, event: postUpdate }
      - { name: doctrine.event_listener, event: prePersist }
      - { name: doctrine.event_listener, event: preUpdate }

  ss6.shop.image.image_delete_doctrine_listener:
    class: SS6\ShopBundle\Model\Image\ImageDeleteDoctrineListener
    tags:
      - { name: doctrine.event_listener, event: preRemove }

  ss6.shop.file_upload.file_naming_convention:
    class: SS6\ShopBundle\Model\FileUpload\FileNamingConvention

  ss6.shop.flash_message.bag.admin:
    class: SS6\ShopBundle\Model\FlashMessage\Bag
    arguments: ['admin']

  ss6.shop.flash_message.bag.front:
    class: SS6\ShopBundle\Model\FlashMessage\Bag
    arguments: ['front']

  ss6.shop.flash_message.sender.admin:
    class: SS6\ShopBundle\Model\FlashMessage\FlashMessageSender
    arguments:
      - @ss6.shop.flash_message.bag.admin

  ss6.shop.flash_message.sender.front:
    class: SS6\ShopBundle\Model\FlashMessage\FlashMessageSender
    arguments:
      - @ss6.shop.flash_message.bag.front

  ss6.shop.form.multiple_form_setting:
    class: SS6\ShopBundle\Model\Form\MultipleFormSetting

  ss6.shop.grid.factory:
    class: SS6\ShopBundle\Model\Grid\GridFactory

  ss6.shop.grid.inline_edit.inline_edit_service:
    class: SS6\ShopBundle\Model\Grid\InlineEdit\InlineEditService

  ss6.shop.grid.ordering.grid_ordering_facade:
    class: SS6\ShopBundle\Model\Grid\Ordering\GridOrderingFacade

  ss6.shop.grid.ordering.grid_ordering_service:
    class: SS6\ShopBundle\Model\Grid\Ordering\GridOrderingService

  ss6.shop.image.directory_structure_creator:
    class: SS6\ShopBundle\Model\Image\DirectoryStructureCreator
    arguments: [%ss6.image_dir%]

  ss6.shop.image.image_config:
    class: SS6\ShopBundle\Model\Image\Config\ImageConfig
    factory_service: ss6.shop.image.image_config_loader
    factory_method: loadFromYaml
    arguments:
      - %ss6.image_config_filepath%

  ss6.shop.image.image_config_loader:
    class: SS6\ShopBundle\Model\Image\Config\ImageConfigLoader

  ss6.shop.image.image_facade:
    class: SS6\ShopBundle\Model\Image\ImageFacade

  ss6.shop.image.image_locator:
    class: SS6\ShopBundle\Model\Image\ImageLocator
    arguments: [%ss6.image_dir%]

  ss6.shop.image.image_repository:
    class: SS6\ShopBundle\Model\Image\ImageRepository

  ss6.shop.image.image_service:
    class: SS6\ShopBundle\Model\Image\ImageService

  ss6.shop.image.processing.image_manager:
    class: Intervention\Image\ImageManager
    arguments:
      - [driver: 'gd']

  ss6.shop.image.processing.image_generator_facade:
    class: SS6\ShopBundle\Model\Image\Processing\ImageGeneratorFacade

  ss6.shop.image.processing.image_generator_service:
    class: SS6\ShopBundle\Model\Image\Processing\ImageGeneratorService

  ss6.shop.image.processing.image_processing_service:
    class: SS6\ShopBundle\Model\Image\Processing\ImageProcessingService

  ss6.shop.image.processing.image_thumbnail_factory:
    class: SS6\ShopBundle\Model\Image\Processing\ImageThumbnailFactory

  ss6.shop.localization.locale_listener:
    class: SS6\ShopBundle\Model\Localization\LocalizationListener
    tags:
      - { name: kernel.event_subscriber }

  ss6.shop.localization.localization:
    class: SS6\ShopBundle\Model\Localization\Localization

  ss6.shop.localization.translation.grid.translation_grid_factory:
    class: SS6\ShopBundle\Model\Localization\Translation\Grid\TranslationGridFactory

  ss6.shop.localization.translation.grid.translation_inline_edit:
    class: SS6\ShopBundle\Model\Localization\Translation\Grid\TranslationInlineEdit

  ss6.shop.localization.translation.translation_edit_facade:
    class: SS6\ShopBundle\Model\Localization\Translation\TranslationEditFacade
    arguments: [%kernel.root_dir%, %kernel.cache_dir%]

  ss6.shop.twig.javascript.javascript_compiler_service:
    class: SS6\ShopBundle\Twig\Javascript\JavascriptCompilerService
    arguments:
      - %ss6.root_dir%
      - %ss6.web_dir%
      - %ss6.javascript_sources_dir%
      - %ss6.javascript_url_prefix%

  ss6.shop.mail.mail_template_facade:
    class: SS6\ShopBundle\Model\Mail\MailTemplateFacade

  ss6.shop.mail.mail_template_repository:
    class: SS6\ShopBundle\Model\Mail\MailTemplateRepository

  ss6.shop.mail.mailer_service:
    class: SS6\ShopBundle\Model\Mail\MailerService
    arguments: [@mailer]

  ss6.shop.mail.setting.mail_setting_facade:
    class: SS6\ShopBundle\Model\Mail\Setting\MailSettingFacade

  ss6.shop.order.flow:
    class: SS6\ShopBundle\Form\Front\Order\OrderFlow
    parent: craue.form.flow
    scope: request

  ss6.shop.order.hash_generator_repository:
    class: SS6\ShopBundle\Model\Order\OrderHashGeneratorRepository

  ss6.shop.order.item.order_item_price_calculation:
    class: SS6\ShopBundle\Model\Order\Item\OrderItemPriceCalculation

  ss6.shop.order.order_creation_service:
    class: SS6\ShopBundle\Model\Order\OrderCreationService

  ss6.shop.order.order_facade:
    class: SS6\ShopBundle\Model\Order\OrderFacade

  ss6.shop.order.order_flow_facade:
    class: SS6\ShopBundle\Model\Order\OrderFlowFacade

  ss6.shop.order.order_mail_facade:
    class: SS6\ShopBundle\Model\Order\Mail\OrderMailFacade

  ss6.shop.order.order_mail_service:
    class: SS6\ShopBundle\Model\Order\Mail\OrderMailService

  ss6.shop.order.order_number_sequence_repository:
    class: SS6\ShopBundle\Model\Order\OrderNumberSequenceRepository

  ss6.shop.order.order_price_calculation:
    class: SS6\ShopBundle\Model\Order\OrderPriceCalculation

  ss6.shop.order.order_repository:
    class: SS6\ShopBundle\Model\Order\OrderRepository

  ss6.shop.order.order_service:
    class: SS6\ShopBundle\Model\Order\OrderService

  ss6.shop.order.order_status_facade:
    class: SS6\ShopBundle\Model\Order\Status\OrderStatusFacade

  ss6.shop.order.order_status_mail_template_service:
    class: SS6\ShopBundle\Model\Order\Status\OrderStatusMailTemplateService

  ss6.shop.order.order_status_repository:
    class: SS6\ShopBundle\Model\Order\Status\OrderStatusRepository

  ss6.shop.order.order_status_service:
    class: SS6\ShopBundle\Model\Order\Status\OrderStatusService

  ss6.shop.order.order_transport_and_payment_watcher_service:
    class: SS6\ShopBundle\Model\Order\Watcher\TransportAndPaymentWatcherService
    arguments:
      - @ss6.shop.flash_message.bag.front

  ss6.shop.order.preview.order_preview_calculation:
    class: SS6\ShopBundle\Model\Order\Preview\OrderPreviewCalculation

  ss6.shop.order.status.grid.order_status_inline_edit:
    class: SS6\ShopBundle\Model\Order\Status\Grid\OrderStatusInlineEdit

  ss6.shop.order.status.grid.order_status_grid_factory:
    class: SS6\ShopBundle\Model\Order\Status\Grid\OrderStatusGridFactory

  ss6.shop.payment.grid.payment_grid_factory:
    class: SS6\ShopBundle\Model\Payment\Grid\PaymentGridFactory

  ss6.shop.payment.independent_payment_visibility_calculation:
    class: SS6\ShopBundle\Model\Payment\IndependentPaymentVisibilityCalculation

  ss6.shop.payment.payment_detail_factory:
    class: SS6\ShopBundle\Model\Payment\Detail\PaymentDetailFactory

  ss6.shop.payment.payment_edit_data_factory:
    class: SS6\ShopBundle\Model\Payment\PaymentEditDataFactory

  ss6.shop.payment.payment_edit_facade:
    class: SS6\ShopBundle\Model\Payment\PaymentEditFacade

  ss6.shop.payment.payment_repository:
    class: SS6\ShopBundle\Model\Payment\PaymentRepository

  ss6.shop.payment.payment_price_calculation:
    class: SS6\ShopBundle\Model\Payment\PaymentPriceCalculation

  ss6.shop.payment.payment_price_edit_facade:
    class: SS6\ShopBundle\Model\Payment\PaymentPriceEditFacade

  ss6.shop.payment.payment_price_repository:
    class: SS6\ShopBundle\Model\Payment\PaymentPriceRepository

  ss6.shop.payment.payment_visibility_calculation:
    class: SS6\ShopBundle\Model\Payment\PaymentVisibilityCalculation

  ss6.shop.pricing.currency.currency_facade:
    class: SS6\ShopBundle\Model\Pricing\Currency\CurrencyFacade

  ss6.shop.pricing.currency.currency_grid_factory:
    class: SS6\ShopBundle\Model\Pricing\Currency\Grid\CurrencyGridFactory

  ss6.shop.pricing.currency.currency_inline_edit:
    class: SS6\ShopBundle\Model\Pricing\Currency\Grid\CurrencyInlineEdit

  ss6.shop.pricing.currency.currency_repository:
    class: SS6\ShopBundle\Model\Pricing\Currency\CurrencyRepository

  ss6.shop.pricing.currency.currency_service:
    class: SS6\ShopBundle\Model\Pricing\Currency\CurrencyService

  ss6.shop.pricing.delayed_pricing_setting:
    class: SS6\ShopBundle\Model\Pricing\DelayedPricingSetting

  ss6.shop.pricing.group.grid.pricing_group_grid_factory:
    class: SS6\ShopBundle\Model\Pricing\Group\Grid\PricingGroupGridFactory

  ss6.shop.pricing.group.grid.pricing_group_inline_edit:
    class: SS6\ShopBundle\Model\Pricing\Group\Grid\PricingGroupInlineEdit

  ss6.shop.pricing.group.pricing_group_facade:
    class: SS6\ShopBundle\Model\Pricing\Group\PricingGroupFacade

  ss6.shop.pricing.group.pricing_group_repository:
    class: SS6\ShopBundle\Model\Pricing\Group\PricingGroupRepository

  ss6.shop.pricing.input_price_calculation:
    class: SS6\ShopBundle\Model\Pricing\InputPriceCalculation

  ss6.shop.pricing.input_price_recalculation_scheduler:
    class: SS6\ShopBundle\Model\Pricing\InputPriceRecalculationScheduler
    tags:
      - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }

  ss6.shop.pricing.price_calculation:
    class: SS6\ShopBundle\Model\Pricing\PriceCalculation

  ss6.shop.pricing.base_price_calculation:
    class: SS6\ShopBundle\Model\Pricing\BasePriceCalculation

  ss6.shop.pricing.pricing_setting:
    class: SS6\ShopBundle\Model\Pricing\PricingSetting

  ss6.shop.pricing.pricing_setting_facade:
    class: SS6\ShopBundle\Model\Pricing\PricingSettingFacade

  ss6.shop.pricing.rounding:
    class: SS6\ShopBundle\Model\Pricing\Rounding

  ss6.shop.pricing.vat.vat_facade:
    class: SS6\ShopBundle\Model\Pricing\Vat\VatFacade

  ss6.shop.pricing.vat.vat_grid_factory:
    class: SS6\ShopBundle\Model\Pricing\Vat\VatGridFactory

  ss6.shop.pricing.vat.vat_inline_edit:
    class: SS6\ShopBundle\Model\Pricing\Vat\VatInlineEdit

  ss6.shop.pricing.vat.vat_repository:
    class: SS6\ShopBundle\Model\Pricing\Vat\VatRepository

  ss6.shop.pricing.vat.vat_service:
    class: SS6\ShopBundle\Model\Pricing\Vat\VatService

  ss6.shop.product.availability.availability_inline_edit:
    class: SS6\ShopBundle\Model\Product\Availability\AvailabilityInlineEdit

  ss6.shop.product.availability.availability_facade:
    class: SS6\ShopBundle\Model\Product\Availability\AvailabilityFacade

  ss6.shop.product.availability.availability_grid_factory:
    class: SS6\ShopBundle\Model\Product\Availability\AvailabilityGridFactory

  ss6.shop.product.availability.availability_repository:
    class: SS6\ShopBundle\Model\Product\Availability\AvailabilityRepository

  ss6.shop.product.availability.availability_service:
    class: SS6\ShopBundle\Model\Product\Availability\AvailabilityService

  ss6.shop.product.availability.product_availability_calculation:
    class: SS6\ShopBundle\Model\Product\Availability\ProductAvailabilityCalculation

  ss6.shop.product.availability.product_availability_recalculation_scheduler:
    class: SS6\ShopBundle\Model\Product\Availability\ProductAvailabilityRecalculationScheduler

  ss6.shop.product.availability.product_availability_recalculator:
    class: SS6\ShopBundle\Model\Product\Availability\ProductAvailabilityRecalculator
    tags:
      - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }

  ss6.shop.product.flag.flag_inline_edit:
    class: SS6\ShopBundle\Model\Product\Flag\FlagInlineEdit

  ss6.shop.product.flag.flag_facade:
    class: SS6\ShopBundle\Model\Product\Flag\FlagFacade

  ss6.shop.product.flag.flag_grid_factory:
    class: SS6\ShopBundle\Model\Product\Flag\FlagGridFactory

  ss6.shop.product.flag.flag_repository:
    class: SS6\ShopBundle\Model\Product\Flag\FlagRepository

  ss6.shop.product.flag.flag_service:
    class: SS6\ShopBundle\Model\Product\Flag\FlagService

  ss6.shop.product.filter.flag_filter_choice_repository:
    class: SS6\ShopBundle\Model\Product\Filter\FlagFilterChoiceRepository

  ss6.shop.product.filter.parameter_filter_choice_repository:
    class: SS6\ShopBundle\Model\Product\Filter\ParameterFilterChoiceRepository

  ss6.shop.product.filter.parameter_filter_repository:
    class: SS6\ShopBundle\Model\Product\Filter\ParameterFilterRepository

  ss6.shop.product.filter.product_filter_repository:
    class: SS6\ShopBundle\Model\Product\Filter\ProductFilterRepository

  ss6.shop.product.filter.product_search_service:
    class: SS6\ShopBundle\Model\Product\Filter\ProductSearchService

  ss6.shop.product.pricing.product_manual_input_price_facade:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductManualInputPriceFacade

  ss6.shop.product.pricing.product_manual_input_price_repository:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductManualInputPriceRepository

  ss6.shop.product.pricing.product_manual_input_price_service:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductManualInputPriceService

  ss6.shop.product.pricing.quantified_product_price_calculation:
    class: SS6\ShopBundle\Model\Product\Pricing\QuantifiedProductPriceCalculation

  ss6.shop.product.top_product.top_product_inline_edit:
    class: SS6\ShopBundle\Model\Product\TopProduct\TopProductInlineEdit

  ss6.shop.product.top_product.top_product_facade:
    class: SS6\ShopBundle\Model\Product\TopProduct\TopProductFacade

  ss6.shop.product.top_product.top_product_grid_factory:
    class: SS6\ShopBundle\Model\Product\TopProduct\TopProductGridFactory

  ss6.shop.product.top_product.top_product_repository:
    class: SS6\ShopBundle\Model\Product\TopProduct\TopProductRepository

  ss6.shop.product.list.product_list_admin_facade:
    class: SS6\ShopBundle\Model\Product\Listing\ProductListAdminFacade

  ss6.shop.product.list.product_list_admin_repository:
    class: SS6\ShopBundle\Model\Product\Listing\ProductListAdminRepository

  ss6.shop.product.parameter.parameter_inline_edit:
    class: SS6\ShopBundle\Model\Product\Parameter\ParameterInlineEdit

  ss6.shop.product.parameter.parameter_facade:
    class: SS6\ShopBundle\Model\Product\Parameter\ParameterFacade

  ss6.shop.product.parameter.parameter_grid_factory:
    class: SS6\ShopBundle\Model\Product\Parameter\ParameterGridFactory

  ss6.shop.product.parameter.parameter_repository:
    class: SS6\ShopBundle\Model\Product\Parameter\ParameterRepository

  ss6.shop.product.parameter.parameter_service:
    class: SS6\ShopBundle\Model\Product\Parameter\ParameterService

  ss6.shop.product.pricing.product_price_calculation_for_user:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductPriceCalculationForUser

  ss6.shop.product.pricing.product_calculated_price_repository:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductCalculatedPriceRepository

  ss6.shop.product.pricing.product_price_calculation:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductPriceCalculation

  ss6.shop.product.pricing.product_price_recalculation_scheduler:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductPriceRecalculationScheduler

  ss6.shop.product.pricing.product_price_recalculator:
    class: SS6\ShopBundle\Model\Product\Pricing\ProductPriceRecalculator
    tags:
      - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }

  ss6.shop.product.product_edit_data_factory:
    class: SS6\ShopBundle\Model\Product\ProductEditDataFactory

  ss6.shop.product.product_detail_factory:
    class: SS6\ShopBundle\Model\Product\Detail\ProductDetailFactory

  ss6.shop.product.product_edit_facade:
    class: SS6\ShopBundle\Model\Product\ProductEditFacade

  ss6.shop.product.product_list_ordering_service:
    class: SS6\ShopBundle\Model\Product\ProductListOrderingService

  ss6.shop.product.product_on_current_domain_facade:
    class: SS6\ShopBundle\Model\Product\ProductOnCurrentDomainFacade

  ss6.shop.product.product_repository:
    class: SS6\ShopBundle\Model\Product\ProductRepository

  ss6.shop.product.product_service:
    class: SS6\ShopBundle\Model\Product\ProductService

  ss6.shop.product.product_visibility_facade:
    class: SS6\ShopBundle\Model\Product\ProductVisibilityFacade
    tags:
      # must be ran after CategoryVisibilityRepository
      - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse, priority: 10 }

  ss6.shop.product.product_visibility_repository:
    class: SS6\ShopBundle\Model\Product\ProductVisibilityRepository

  ss6.shop.router.current_domain_router:
    class: SS6\ShopBundle\Component\Router\CurrentDomainRouter
    tags:
      - { name: router, priority: 70 }

  ss6.shop.router.domain_router_factory:
    class: SS6\ShopBundle\Component\Router\DomainRouterFactory
    arguments: [%router.resource%]

  ss6.shop.router.friendly_url.friendly_url_router_factory:
    class: SS6\ShopBundle\Component\Router\FriendlyUrl\FriendlyUrlRouterFactory
    arguments: [%ss6.router.friendly_url_router_filepath%]

  ss6.shop.router.localized_router_factory:
    class: SS6\ShopBundle\Component\Router\LocalizedRouterFactory
    arguments: [%ss6.router.locale_router_filepaths%]

  ss6.shop.slider.slider_item_facade:
    class: SS6\ShopBundle\Model\Slider\SliderItemFacade

  ss6.shop.slider.slider_item_repository:
    class: SS6\ShopBundle\Model\Slider\SliderItemRepository

  ss6.shop.sub_request.sub_request_listener:
    class: SS6\ShopBundle\Component\SubRequest\SubRequestListener
    tags:
      - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }
      - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }

  ss6.shop.security.customer_login_handler:
    class: SS6\ShopBundle\Model\Security\CustomerLoginHandler

  ss6.shop.security.login_listener:
    class: SS6\ShopBundle\Model\Security\LoginListener
    tags:
      - { name: kernel.event_listener, event: security.interactive_login, method: onSecurityInteractiveLogin }

  ss6.shop.security.login_service:
    class: SS6\ShopBundle\Model\Security\LoginService

  ss6.shop.security.logout_handler:
    class: SS6\ShopBundle\Model\Security\LogoutHandler

  ss6.shop.setting:
    class: SS6\ShopBundle\Model\Setting\Setting

  ss6.shop.setting.setting_value_repository:
    class: SS6\ShopBundle\Model\Setting\SettingValueRepository

  ss6.shop.transport.grid.transport_grid_factory:
    class: SS6\ShopBundle\Model\Transport\Grid\TransportGridFactory

  ss6.shop.transport.independent_transport_visibility_calculation:
    class: SS6\ShopBundle\Model\Transport\IndependentTransportVisibilityCalculation

  ss6.shop.transport.transport_price_calculation:
    class: SS6\ShopBundle\Model\Transport\TransportPriceCalculation

  ss6.shop.transport.transport_detail_factory:
    class: SS6\ShopBundle\Model\Transport\Detail\TransportDetailFactory

  ss6.shop.transport.transport_edit_data_factory:
    class: SS6\ShopBundle\Model\Transport\TransportEditDataFactory

  ss6.shop.transport.transport_edit_facade:
    class: SS6\ShopBundle\Model\Transport\TransportEditFacade

  ss6.shop.transport.transport_price_edit_facade:
    class: SS6\ShopBundle\Model\Transport\TransportPriceEditFacade

  ss6.shop.transport.transport_price_repository:
    class: SS6\ShopBundle\Model\Transport\TransportPriceRepository

  ss6.shop.transport.transport_repository:
    class: SS6\ShopBundle\Model\Transport\TransportRepository

  ss6.shop.transport.transport_visibility_calculation:
    class: SS6\ShopBundle\Model\Transport\TransportVisibilityCalculation

  twig.stringloader:
    class: Twig_Loader_String
    tags:
      - { name: twig.loader }
